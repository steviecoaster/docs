---
---
import Callout from '@choco/components/Callout.astro';
import Iframe from '@choco/components/Iframe.astro';
import Xref from '@components/Xref.astro';
import TabsPane from '@choco/components/tabs/TabsPane.astro';
import TabsPaneContainer from '@choco/components/tabs/TabsPaneContainer.astro';
import TabsTabContainer from '@choco/components/tabs/TabsTabContainer.astro';
import CentralManagementSecureConnectionStrings from '@components/docs/CentralManagementSecureConnectionStrings.mdx';
import CentralManagementDatabaseSetup from '@components/docs/CentralManagementDatabaseSetup.mdx';
import CentralManagementWebsiteSetup from '@components/docs/CentralManagementWebsiteSetup.mdx';
import CentralManagementServiceSetup from '@components/docs/CentralManagementServiceSetup.mdx';
import OrgGuideCcmDatabase from '@components/docs/OrgGuideCcmDatabase.mdx';
import OrgGuideCcmWeb from '@components/docs/OrgGuideCcmWeb.mdx';
import OrgGuideCcmService from '@components/docs/OrgGuideCcmService.mdx';
export const ccmInstall = [
    { id: 'ccm-database', title: 'CCM Database', isActive: true },
    { id: 'ccm-web', title: 'CCM Web', updateAnchor: true },
    { id: 'ccm-service', title: 'CCM Service', updateAnchor: true }
];

Chocolatey Central Management is made of of 4 components, installed via Chocolatey. Those components are:

- Chocolatey Management Database (chocolatey-management-database): Provides the database schema used by Chocolatey Central Management.
- Chocolatey Management Service (chocolatey-management-service): The service that handles processing requests from agents running in your environment
- Chocolatey Management Web (chocolatey-management-web): This is the web interface for Chocolatey Central Management
- Chocolatey Agent Service (chocolatey-agent): The service that runs on an endpoint that facilitates reporting and deployment activties from Central Management

## Planning Your Installation

Chocolatey Central Management can be installed on a single server, or you may wish to install each component on separate servers. **All three components are required for a Chocolatey Central Management installation.**

If you have Chocolatey For Business licenses for more than 1,000 endpoints, it is recommended that you install the components on separate servers.
For node counts of 1000 or less, you can install all components on a single server, though we still recommend the use of a licensed version of SQL Server for the database component.

# Before You Begin

Before you can install the Chocolatey Central Management Database, you need to have a SQL Server Instance available. SQL Server Express is _fine_ but only recommended for testing and small environments (less than 1000 endpoints).

## Available Parameters

- `Component`: The component to install. Valid values: `Database`, `Web`, `Service`, `All`
- `ServiceCredential`: The credentials to use with the Chocolatey Management Service. If account does not exist, it will be created. (Service and Web components only)
- `ConnectionString`: The connection string to use to connect to the database.
- `LicenseFile`: The path to the Chocolatey For Business license file. If not provided, you will br prompted to browse for it.
- `IsOffline`: If true, you will be required to provide the path to the zip file containing the internalized Chocolatey components required for installation.
= `OfflineInstallationMedia`: The path to the zip file containing the internalized Chocolatey components required for installation. This is only required if `IsOffline` is true.
## Component Installation

<TabsTabContainer content={ccmInstall} />
<TabsPaneContainer>
    <TabsPane content={ccmInstall[0]}>
        <OrgGuideCcmDatabase />
        <Xref title="Back To Top" value="setup-central-management" anchor="installation"/>
    </TabsPane>
    <TabsPane content={ccmInstall[1]}>
        <OrgGuideCcmWeb />
        <Xref title="Back To Top" value="setup-central-management" anchor="installation"/>
    </TabsPane>
    <TabsPane content={ccmInstall[2]}>
        <OrgGuideCcmService />
        <Xref title="Back To Top" value="setup-central-management" anchor="installation"/>
    </TabsPane>
</TabsPaneContainer>